@import "tailwindcss";
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Great+Vibes&family=Montserrat:wght@300;400;500&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap');

@theme {
  --font-bebas: var(--font-bebas), sans-serif;
  --font-outfit: var(--font-outfit), sans-serif;
  --font-vt323: var(--font-vt323), monospace;
  --font-press-start: var(--font-press-start), cursive;

  /* Colors */
  --color-mc-green: #5fb346;
  --color-mc-green-dark: #367023;
  --color-mc-brown: #5c4a33;
  --color-mc-stone: #7e7e7e;
  --color-mc-btn-top: #a7a7a7;
  --color-mc-btn-side: #3b3b3b;
}

:root {
  --background: #02005e;
  --foreground: #ffffff;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-outfit);
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-bebas);
}

/* --- MINECRAFT UTILITIES --- */
.text-mc-shadow {
  text-shadow: 2px 2px 0 #000;
}

.image-pixelated {
  image-rendering: pixelated;
}

/* Minecraft Button Bevel */
.mc-btn {
  box-shadow: inset 2px 2px 0px 0px rgba(255, 255, 255, 0.4), inset -2px -2px 0px 0px rgba(0, 0, 0, 0.6);
  transition: all 0.05s;
}

.mc-btn:active {
  box-shadow: inset 2px 2px 0px 0px rgba(0, 0, 0, 0.6), inset -2px -2px 0px 0px rgba(255, 255, 255, 0.4);
  transform: translateY(2px);
}

.mc-panel {
  box-shadow: inset 2px 2px 0px 0px #c6c6c6, inset -2px -2px 0px 0px #555555, inset 4px 4px 0px 0px #ffffff, inset -4px -4px 0px 0px #222222;
  background-color: #8b8b8b;
}

/* --- 3D PIÃ‘ATA WITH SEPARATE TEXTURES --- */
.scene {
  width: 200px;
  height: 200px;
  perspective: 800px;
  z-index: 10;
  cursor: none;
}

.pivot-group {
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transform-origin: 50% -200px;
  animation: dramatic-sway 4s ease-in-out infinite alternate;
}

@keyframes dramatic-sway {
  0% {
    transform: rotateZ(-25deg) rotateY(35deg) translateY(-10px);
  }

  50% {
    transform: rotateZ(0deg) rotateY(0deg) translateY(10px);
  }

  100% {
    transform: rotateZ(25deg) rotateY(-35deg) translateY(-10px);
  }
}

.cube-pinata {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  cursor: none;
}

.face-pinata {
  position: absolute;
  width: 200px;
  height: 200px;
  background-size: cover;
  image-rendering: pixelated;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.25);
  backface-visibility: hidden;
  background-color: #ffce20;
}

/* Individual Face Textures - Using separate files */
.texture-bee-face {
  background-image: url('/textures/bee/front.jpg');
}

/* Front face */
.texture-bee-side {
  background-image: url('/textures/bee/top_sides.jpg');
}

/* Right/Left */
.texture-bee-top {
  background-image: url('/textures/bee/top_sides.jpg');
}

/* Top */
.texture-bee-bottom {
  background-image: url('/textures/bee/down_back.jpg');
}

/* Bottom */
.texture-bee-back {
  background-image: url('/textures/bee/back.png');
}

/* Back */

/* Cube Faces Transforms & specific assignments */
.face-pinata.front {
  transform: rotateY(0deg) translateZ(100px);
}

.face-pinata.back {
  transform: rotateY(180deg) translateZ(100px);
}

.face-pinata.right {
  transform: rotateY(90deg) translateZ(100px);
}

.face-pinata.left {
  transform: rotateY(-90deg) translateZ(100px);
}

.face-pinata.top {
  transform: rotateX(90deg) translateZ(100px);
}

.face-pinata.bottom {
  transform: rotateX(-90deg) translateZ(100px);
}

/* Wings & Extras - REMOVED */
/* Removed .wing, .wing-left, .wing-right, @keyframes flutter as requested implicitly 'negativo' of previous texture attempt, likely meaning 'just use the textures as is without extra css geometry' or the image implies just a cube. 
   Wait, the user said "negativo" after uploading a screenshot showing a plain yellow cube. 
   This likely means the previous attempt FAILED to load the textures.
   I need to ensure the paths are correct. The user uploaded an image of a yellow cube with the sword.
   Wait, the prompt says "The user has uploaded 1 image(s): ... uploaded_image_1768661696536.png".
   This image is a screenshot of the broken state (yellow cube).
   The user also said "negativo" which means "it didn't work".
   
   Ah, I see. In the previous turn I uploaded 'back.png'.
   But I might have missed that `top_sides.jpg` etc might need checking if they exist or if I messed up the path.
   
   Let's check the directory listing again.
   Step 623 showed: down_back.jpg, front.jpg, top_sides.jpg.
   So those exist.
   In Step 633 I uploaded 'back.png'.
   
   The likely issue is caching or the path. 
   Or maybe the `background-size: 300% 200%` from the previous global css (lines 108 in step 639) was still there interfering? 
   
   In step 603/606/639, I removed `background-size: 300% 200%`.
   Wait, looking at Step 639, line 107 says `background-size: cover;`. This is correct for single textures.
   
   Why did it show yellow?
   Maybe `backface-visibility: hidden;` is hiding them if normals are wrong?
   Or maybe just the browser cache.
   
   However, I see `front.jpg` size is ~200KB.
   
   Let's ensure the CSS is robust.
   I will remove the wings and extra geometry IF the user wants just the textured block, BUT the bee implies wings.
   Actually, the screenshot shows the block IS yellow. That means the image didn't load, or was transparent (unlikely for jpg).
   
   I will double check the paths.
   /textures/bee/front.jpg
   
   I will rewrite globals.css ensuring no conflicting background properties.
   And I will keep the wings for now unless told otherwise, but maybe adjust them.
   
   Actually, the "negativo" might mean "No, that's not what I wanted" or "It's still broken".
   Given the screenshot, it's BROKEN (yellow box).
   
   I will force a "cache bust" by adding a query string to the urls just in case, e.g. ?v=2.
   And I'll make sure `background-color` is not overriding or `background-image` is not being unset.
*/

/* Wings & Extras */
.wing {
  position: absolute;
  width: 80px;
  height: 50px;
  background: rgba(255, 255, 255, 0.8);
  border: 2px solid #ddd;
  top: -20px;
  transform-origin: bottom left;
  animation: flutter 0.2s infinite alternate;
}

.wing-left {
  left: 20px;
  transform: rotateY(-20deg);
}

.wing-right {
  right: 20px;
  transform: rotateY(20deg) scaleX(-1);
  transform-origin: bottom right;
}

@keyframes flutter {
  from {
    transform: rotateX(0deg);
  }

  to {
    transform: rotateX(40deg);
  }
}

.rope {
  position: absolute;
  width: 4px;
  height: 1000px;
  background: #8d6e63;
  bottom: 200px;
  left: 98px;
  transform: translateZ(0);
  pointer-events: none;
}

.fringe {
  position: absolute;
  bottom: -40px;
  width: 20px;
  height: 60px;
  transform-origin: top;
  animation: loose-paper 2s ease-in-out infinite alternate;
}

.f1 {
  left: 20px;
  background: #ffce20;
}

.f2 {
  left: 60px;
  background: #111;
  animation-delay: 0.2s;
}

.f3 {
  left: 100px;
  background: #ffce20;
  animation-delay: 0.4s;
}

.f4 {
  left: 140px;
  background: #111;
  animation-delay: 0.1s;
}

@keyframes loose-paper {
  from {
    transform: rotate(15deg);
  }

  to {
    transform: rotate(-15deg);
  }
}

.damage-overlay {
  position: absolute;
  inset: 0;
  background-color: rgba(0, 0, 0, 0);
  transition: opacity 0.2s;
}

.hit-anim {
  animation: shake 0.2s ease-in-out;
}

@keyframes shake {
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.9);
  }

  100% {
    transform: scale(1);
  }
}

.flash-red .face-pinata {
  filter: sepia(1) hue-rotate(-50deg) saturate(5) brightness(0.8);
}


/* --- SPRITES & SIZES --- */

/* SWORD CURSOR */
.sword-cursor {
  position: fixed;
  width: 140px;
  height: 140px;
  pointer-events: none;
  z-index: 9999;
  background-image: url('/sprites/sword-custom.png');
  background-size: contain;
  background-repeat: no-repeat;
  transform-origin: bottom left;
  margin-top: -110px;
  margin-left: -30px;
  filter: drop-shadow(4px 4px 0 rgba(0, 0, 0, 0.5));
}

.sword-swing {
  animation: swing-sword 0.15s ease-out;
}

@keyframes swing-sword {
  0% {
    transform: rotate(0deg);
  }

  50% {
    transform: rotate(-90deg) translate(-20px, 20px);
  }

  100% {
    transform: rotate(0deg);
  }
}

/* CREEPER WALKER */
@keyframes creeper-screen-move {
  0% {
    left: -250px;
    transform: scaleX(1);
  }

  49% {
    left: 100vw;
    transform: scaleX(1);
  }

  50% {
    left: 100vw;
    transform: scaleX(-1);
  }

  100% {
    left: -250px;
    transform: scaleX(-1);
  }
}

@keyframes gentle-bounce {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-10px);
  }
}

/* Base class for JS interaction */
.creeper-interactive {
  position: fixed;
  bottom: 0px;
  left: -250px;
  /* Start offscreen */
  width: 200px;
  height: 200px;
  z-index: 50;
  cursor: url('/sprites/sword-custom.png'), auto;
  /* Custom cursor over creeper too */
  background-image: url('/sprites/creeper-3d.png');
  background-size: contain;
  background-repeat: no-repeat;
  animation: creeper-screen-move 30s linear infinite, gentle-bounce 1s infinite alternate;
}

.creeper-hit {
  filter: sepia(1) hue-rotate(-50deg) saturate(5) brightness(0.8);
  transform: scale(0.95);
}


/* STEVE DANCER */
.steve-dancer {
  width: 240px;
  height: 280px;
  display: inline-block;
  position: relative;
  background-image: url('/sprites/steve-3d.png');
  background-size: contain;
  background-repeat: no-repeat;
  animation: gentle-bounce 2s infinite ease-in-out;
  margin-bottom: 1rem;
  filter: drop-shadow(0 15px 5px rgba(0, 0, 0, 0.3));
}

/* WOODEN PLANKS TEXTURE */
.tex-wood-dark {
  background-color: #3e2723;
  background-image: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 1px, transparent 1px), linear-gradient(rgba(0, 0, 0, 0.2) 1px, transparent 1px);
  background-size: 32px 32px;
  position: relative;
  border-top: 6px solid #271c19;
}